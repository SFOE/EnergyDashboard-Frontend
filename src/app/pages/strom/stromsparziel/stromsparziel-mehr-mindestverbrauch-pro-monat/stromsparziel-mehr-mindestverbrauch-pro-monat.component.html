<div *ngIf="!isLoading; else loadingTemplate">
    <bfe-sparziel-histogram-chart
        *ngIf="mehrMindestverbrauchData.length > 0"
        [model]="{
            lastUpdate:
                mehrMindestverbrauchData[mehrMindestverbrauchData.length - 1]
                    .date,
            data: mehrMindestverbrauchData,
            blocks: [],
            colors: {
                bars: barColors,
                lines: lineColors
            },
            barWidth: barWidth,
            legendEntries: legendEntries,
            titleDynamicKey: 'kpi-strom-3_sparziel_aktuelle_einsparung.titel',
            langtextDynamicKey:
                'kpi-strom-3_sparziel_aktuelle_einsparung.langtext',
            sparzielTarget: targetPercentage
        }"
        [hasSparziel]="false"
        [loading]="isLoading"
    ></bfe-sparziel-histogram-chart>
</div>

<ng-template #loadingTemplate>
    <bfe-loading-spinner></bfe-loading-spinner>
</ng-template>
